@tailwind base;
@tailwind components;
@tailwind utilities;

@property --gradient-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

:root {
  /* Brand Colors */
  --primary-blue: #131857;
  --primary-white: #ffffff;
  --destructive-red: #a50c0c;
  
  /* Fonts */
  --title-font: var(--font-lora);
  --text-font: var(--font-merriweather);

  /* Shadcn / Theme Variables */
  --background: 0 0% 100%;              /* white background */
  --foreground: 233 65% 20%;            /* dark blue text */
  --card: 0 0% 100%;                    /* white card */
  --card-foreground: 233 65% 20%;       /* dark blue on card */
  --popover: 0 0% 100%;
  --popover-foreground: 233 65% 20%;
  --primary: 233 65% 20%;               /* your primary blue */
  --primary-foreground: 0 0% 100%;      /* white on blue */
  --secondary: 0 0% 96.1%;
  --secondary-foreground: 233 65% 20%;
  --muted: 0 0% 96.1%;
  --muted-foreground: 233 65% 40%;      /* lighter blue text on muted */
  --accent: 0 0% 96.1%;
  --accent-foreground: 233 65% 20%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 89.8%;
  --input: 0 0% 89.8%;
  --ring: 233 65% 20%;
  --chart-1: 233 65% 20%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;
  --radius: 0.5rem;
}

@layer base {
  * {
    @apply border-border scroll-smooth;
  }
  body {
    @apply bg-background text-foreground overflow-x-hidden font-body;
  }
}

@layer components {
  /* --- Layout & General --- */
  .text-container p { @apply pt-4; }
  .checkbox { @apply border-2 border-pink-400 z-50; }

  /* Inline Titles */
  .inline-title-style {
    @apply w-full font-rajdhani text-center rounded-sm border-b border-dotted border-[var(--primary-blue)] mx-auto px-6 py-1 text-[var(--primary-blue)];
  }


  /* --- Glassmorphism & Cards --- */
  .card-bg { @apply bg-white/40 backdrop-blur-md; }
  .card-border { @apply border-[1px] border-[var(--primary-blue)]; }
  .card-shadow { @apply shadow-[inset_0_1px_0_0_rgba(255,255,255,0.6),_inset_0_-1px_1px_rgba(19,24,87,0.4),_0_4px_16px_0_rgba(19,24,87,0.15)]; }
  .card-inner-shadow { @apply hover:shadow-[inset_0px_0px_10px_-1px_rgba(59,_130,_246,_0.5)] ; }
  
  .glass-hover {
    @apply backdrop-blur-lg bg-transparent hover:backdrop-blur-sm hover:bg-white/50 transform transition-all duration-300 ease-in-out;
    @apply hover:shadow-[inset_0_1px_0_0_rgba(255,255,255,0.8),_inset_0_-1px_1px_rgba(19,24,87,0.5),_0_0_12px_rgba(19,24,87,0.2)];
  }

  .card-hover { @apply glass-hover hover:scale-95; }

  .link-card {
    @apply card-bg card-shadow card-hover relative h-[30vh] flex-shrink-0 rounded-sm p-5 flex flex-col justify-center items-center font-rajdhani text-center overflow-clip;
  }

  /* --- Comments --- */
  .comment-author-tag {
    @apply border border-white/20 backdrop-blur-md rounded-sm px-1 transition-all duration-300 ease-in-out;
  }

  .comment-author-self-tag {
    @apply border border-white/20 glass-hover backdrop-blur-md rounded-sm px-1 transition-all duration-300 ease-in-out;
  }

  .comment-author-tag:hover {
    @apply border-transparent;
  }
  
  .comment-body-text {
    @apply inline font-light leading-relaxed whitespace-pre-wrap break-words px-1;
  }

  .comment-tiny-button {
    @apply glass-hover h-5 w-5 flex items-center justify-center rounded-sm transition-colors opacity-50 hover:opacity-100 disabled:opacity-30;
  }

  /* --- Navigation & Tabs --- */
  .button-shadow { @apply shadow-[inset_0_1px_0_0_rgba(255,255,255,0.6),_inset_0_-1px_1px_rgba(19,24,87,0.4),_0_1px_2px_0_rgba(19,24,87,0.15)]; }

  .button-style {
    @apply w-full glass-hover button-shadow rounded-sm p-1 font-rajdhani uppercase cursor-pointer hover:bg-[var(--primary-blue)] hover:text-[var(--primary-white)] transition duration-500 ease-in-out;
  }

  .destructive-button-style {
    @apply w-full glass-hover button-shadow rounded-sm p-1 font-rajdhani uppercase cursor-pointer hover:bg-[var(--destructive-red)] hover:text-[var(--primary-white)] transition duration-500 ease-in-out;
  }

  .router-tab {
    @apply glass-hover hover:py-2 px-5 mx-1 rounded-sm transition-all duration-300;
  }

  /* .menu-toggle-btn {
    @apply bg-[var(--primary-blue)] py-1 text-white hover:text-[var(--primary-blue)];
  } */

  .gradient-button {
    @apply cursor-pointer text-white;
    background: linear-gradient(var(--gradient-angle), 
      var(--primary-blue), #2a3196, #455dd6, 
      var(--primary-blue), #2a3196, #455dd6,
      var(--primary-blue)
    );
    background-size: 200% 200%;
    box-shadow: inset 0 1px 0 0 rgba(255,255,255,0.15), 
                0 2px 8px 0 rgba(19,24,87,0.3);
    animation: 
      gradient-shift 12s ease-in-out infinite,
      rotate-angle 12s ease-in-out infinite;
  }

  .gradient-button:hover {
    background-position: left;
    box-shadow: inset 0 1px 0 0 rgba(255,255,255,0.2), 
                0 4px 16px 0 rgba(19,24,87,0.4);
  }


  .rootsite-tab {
    @apply glass-hover hover:py-2 hover:px-5 rounded-sm transition-all duration-300;
  }

  /* --- Interaction Elements --- */
  .link-text {
    @apply transition-all duration-1000 ease-in-out bg-gradient-to-tr from-[var(--primary-blue)] to-[var(--primary-white)] bg-clip-text text-transparent;
  }

  .link-text:hover {
    @apply bg-gradient-to-bl transition-all duration-1000 ease-in-out;
  }

  .menu-image, .reel-container { @apply translate-x-[-50%] translate-y-[-50%]; }
  .round-pointer { @apply w-5 h-5 bg-[var(--primary-white)] translate-x-[-50%] translate-y-[-50%] bg-blend-difference rounded-full; }
  .blend-text { @apply mix-blend-difference text-[var(--primary-white)]; }

  /* --- Specialized Components --- */
  .menu-title-wrapper { @apply relative inline-block; }
  .menu-title-bg {
    @apply absolute top-0 left-0 w-full h-full scale-y-0 origin-center transition-transform duration-300 z-[1];
  }

  .menu-title-text {
    @apply relative font-semibold px-4 py-2 inline-block text-[var(--primary-blue)] transition-colors duration-300 delay-100 z-[2];
  }

  .menu-title-active { @apply card-shadow glass-hover scale-y-100; }
  .menu-title-active .menu-title-text { @apply uppercase; }

  .menu-card-description {
    @apply text-sm text-[var(--primary-blue)] leading-relaxed px-2 text-center drop-shadow-[0px_1px_px_var(--primary-blue)];
    scrollbar-width: thin;
    scrollbar-color: var(--primary-blue) transparent;
  }



  /* Webkit Scrollbar Styling for menu-card-description */
  .menu-card-description::-webkit-scrollbar { width: 4px; }
  .menu-card-description::-webkit-scrollbar-track { background: transparent; }
  .menu-card-description::-webkit-scrollbar-thumb {
    @apply bg-blue-500/50 rounded-full;
  }
}

@layer utilities {
  .text-container {
    @apply max-w-[60ch] px-8 md:p-2 mx-auto text-left text-[--primary-blue] font-body text-base;
  }

  .accent-text { @apply hover:text-blue-200; }

  /* --- Masking & Shapes --- */
  .description-notch {
    --notch-width: 90px;
    --notch-depth: 20px;
    --notch-radius: 3px;
    clip-path: polygon(
        0 0,
        calc(50% - var(--notch-width) / 2) 0,
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.1) calc(var(--notch-depth) * 0.02),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.2) calc(var(--notch-depth) * 0.08),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.3) calc(var(--notch-depth) * 0.18),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.4) calc(var(--notch-depth) * 0.32),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.5) calc(var(--notch-depth) * 0.48),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.6) calc(var(--notch-depth) * 0.65),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.7) calc(var(--notch-depth) * 0.78),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.8) calc(var(--notch-depth) * 0.88),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius) * 0.9) calc(var(--notch-depth) * 0.95),
        calc(50% - var(--notch-width) / 2 + var(--notch-radius)) var(--notch-depth),
        calc(50% - var(--notch-radius) * 0.3) var(--notch-depth),
        calc(50% - var(--notch-radius) * 0.1) calc(var(--notch-depth) * 0.98),
        50% calc(var(--notch-depth) * 0.96),
        calc(50% + var(--notch-radius) * 0.1) calc(var(--notch-depth) * 0.98),
        calc(50% + var(--notch-radius) * 0.3) var(--notch-depth),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius)) var(--notch-depth),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.9) calc(var(--notch-depth) * 0.95),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.8) calc(var(--notch-depth) * 0.88),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.7) calc(var(--notch-depth) * 0.78),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.6) calc(var(--notch-depth) * 0.65),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.5) calc(var(--notch-depth) * 0.48),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.4) calc(var(--notch-depth) * 0.32),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.3) calc(var(--notch-depth) * 0.18),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.2) calc(var(--notch-depth) * 0.08),
        calc(50% + var(--notch-width) / 2 - var(--notch-radius) * 0.1) calc(var(--notch-depth) * 0.02),
        calc(50% + var(--notch-width) / 2) 0,
        100% 0, 100% 100%, 0 100%
    );
  }

  .hide-scrollbar {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .hide-scrollbar::-webkit-scrollbar { display: none; }
}

/* --- Global Scrollbars (WebKit) --- */
::-webkit-scrollbar {
  width: 1px;
  height: 1px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--primary-blue)/50;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary-blue)/50;
}

/* --- Global Scrollbars (Firefox) --- */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--primary-blue) transparent;
}

.card-content, .all-cards {
  scrollbar-width: thin;
  scrollbar-color: var(--primary-white) var(--primary-blue);
}

.menu-content {
  scrollbar-width: none;
  scroll-behavior: smooth;
}

/* --- Keyframes --- */
@keyframes typing {
  0% { width: 0% }
  90% { width: 100% }
  100% { width: 0% }
}

@keyframes blink-cursor {
  from, to { border-color: transparent }
  50% { border-color: var(--primary-white) }
}

@keyframes l8 {
  0%,10%   { border-radius: 0 }
  30%,40%  { border-radius: 50% 0 }
  60%,70%  { border-radius: 50% }
  90%,100% { border-radius: 0 50% }
}

@keyframes l7-1 {
  0%,55%,100% { border-top-left-radius: 0; border-bottom-right-radius: 0 }
  20%,30%     { border-top-left-radius: 50%; border-bottom-right-radius: 50% }
}

@keyframes l7-2 {
  0%,55%,100% { border-bottom-left-radius: 0; border-top-right-radius: 0 }
  20%,30%     { border-bottom-left-radius: 50%; border-top-right-radius: 50% }
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}

@keyframes rotate-angle {
  0% { --gradient-angle: 0deg; }
  100% { --gradient-angle: 360deg; }
}

@keyframes marquee-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* --- Animation Classes --- */
.typewriter {
  @apply inline-block overflow-hidden whitespace-nowrap border-r-[1px] border-[var(--primary-blue)];
  animation: typing 8s steps(47, end) infinite, blink-cursor 0.75s step-end infinite;
}

.marquee-track {
  animation: marquee-scroll 20s linear infinite;
}

.marquee-track:hover {
  animation-play-state: paused;
}

/* --- Loaders --- */
.loader {
  @apply w-[75px] aspect-square grid;
}

.loader:before, .loader:after {
  content: "";
  @apply w-[35px] aspect-square;
  grid-area: 1/1;
  box-shadow: 0 0 0 3px var(--primary-blue) inset;
  filter: drop-shadow(40px 40px 0 var(--primary-blue));
  animation: l8 2s infinite alternate;
}

.loader:after {
  @apply ml-auto;
  filter: drop-shadow(-40px 40px 0 var(--primary-blue));
  animation-delay: -1s;
}

.loader2, .loader2:before, .loader2:after {
  @apply w-[35px] aspect-square relative;
  box-shadow: 0 0 0 3px inset var(--primary-blue);
  animation-name: l7-1, l7-2;
  animation-duration: 1.5s;
  animation-delay: 0.5s;
  animation-iteration-count: infinite;
}

.loader2:before, .loader2:after {
  content: "";
  @apply absolute left-[calc(100%+5px)];
  animation-delay: 1s, 0s;
}

.loader2:after {
  @apply left-[-40px];
  animation-delay: 0s, 1s;
}

/* --- Third-Party / UI Overrides --- */
#nprogress .bar {
  @apply bg-[var(--primary-blue)] h-[4px] z-[99999] !important;
}

#nprogress .peg {
  @apply shadow-[0_0_10px_var(--primary-blue),0_0_5px_var(--primary-blue)] !important;
}

#nprogress .spinner { @apply hidden !important; }
